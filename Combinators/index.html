
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="C++ Property Testing">
      
      
        <meta name="author" content="kindone">
      
      
        <link rel="canonical" href="https://github.com/pages/kindone/cppproptest/Combinators/">
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.2.7">
    
    
      
        <title>Generator Combinators - cppproptest</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9d5733d3.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CInconsolata:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Inconsolata"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="light-green">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#generator-combinators" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="cppproptest" class="md-header__button md-logo" aria-label="cppproptest" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            cppproptest
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Generator Combinators
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kindone/cppproptest" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    kindone/cppproptest
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="cppproptest" class="md-nav__button md-logo" aria-label="cppproptest" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    cppproptest
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kindone/cppproptest" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    kindone/cppproptest
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="..">cppproptest</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="cppproptest" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          cppproptest
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../GettingStarted/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Property/" class="md-nav__link">
        Writing Property-based Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Generators/" class="md-nav__link">
        Generating Inputs
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Generator Combinators
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Generator Combinators
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-generator-combinators" class="md-nav__link">
    Basic Generator Combinators
  </a>
  
    <nav class="md-nav" aria-label="Basic Generator Combinators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constants" class="md-nav__link">
    Constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-from-constants" class="md-nav__link">
    Selecting from constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integers-and-intervals" class="md-nav__link">
    Integers and intervals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pair-and-tuples" class="md-nav__link">
    Pair and Tuples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-generator-combinators" class="md-nav__link">
    Advanced Generator Combinators
  </a>
  
    <nav class="md-nav" aria-label="Advanced Generator Combinators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selecting-from-generators" class="md-nav__link">
    Selecting from generators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constructing-an-object" class="md-nav__link">
    Constructing an object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applying-constraints" class="md-nav__link">
    Applying constraints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transforming-or-mapping" class="md-nav__link">
    Transforming or mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deriving-or-flat-mapping" class="md-nav__link">
    Deriving or flat-mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values-with-dependencies" class="md-nav__link">
    Values with dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregation-or-accumulation-of-values" class="md-nav__link">
    Aggregation or Accumulation of Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utility-methods-in-standard-generators" class="md-nav__link">
    Utility Methods in Standard Generators
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Shrinking/" class="md-nav__link">
        Simplifying Failed Inputs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Printing/" class="md-nav__link">
        Printing Facilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../StatefulTesting/" class="md-nav__link">
        Stateful Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ConcurrencyTesting/" class="md-nav__link">
        Concurrency Testing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-generator-combinators" class="md-nav__link">
    Basic Generator Combinators
  </a>
  
    <nav class="md-nav" aria-label="Basic Generator Combinators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constants" class="md-nav__link">
    Constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-from-constants" class="md-nav__link">
    Selecting from constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integers-and-intervals" class="md-nav__link">
    Integers and intervals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pair-and-tuples" class="md-nav__link">
    Pair and Tuples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-generator-combinators" class="md-nav__link">
    Advanced Generator Combinators
  </a>
  
    <nav class="md-nav" aria-label="Advanced Generator Combinators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selecting-from-generators" class="md-nav__link">
    Selecting from generators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constructing-an-object" class="md-nav__link">
    Constructing an object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applying-constraints" class="md-nav__link">
    Applying constraints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transforming-or-mapping" class="md-nav__link">
    Transforming or mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deriving-or-flat-mapping" class="md-nav__link">
    Deriving or flat-mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values-with-dependencies" class="md-nav__link">
    Values with dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregation-or-accumulation-of-values" class="md-nav__link">
    Aggregation or Accumulation of Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utility-methods-in-standard-generators" class="md-nav__link">
    Utility Methods in Standard Generators
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/kindone/cppproptest/edit/master/docs/Combinators.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="generator-combinators">Generator Combinators<a class="headerlink" href="#generator-combinators" title="Permanent link">&para;</a></h1>
<p>Generator combinators are provided for building a new generator based on existing ones. Many of them come from ideas and best practices of functional programming. They can be chained as they receive existing generator(s) as argument and returns new generator.</p>
<p>While you can go through this document from top to the bottom, you might be want to find a suitable combinator for your use case using this table:</p>
<table>
<thead>
<tr>
<th>Purpose</th>
<th>Related Generator/Combinator</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>Generate just a constant</td>
<td><a href="#constants"><code>just&lt;T&gt;</code></a></td>
<td><code>0</code> or <code>"1337"</code></td>
</tr>
<tr>
<td>Generate a value within constants</td>
<td><a href="#selecting-from-values"><code>elementOf&lt;T&gt;</code></a></td>
<td>a prime number under 100</td>
</tr>
<tr>
<td>Generate a list of unique values</td>
<td><a href="../Generators/#built-in-arbitraries"><code>Arbi&lt;set&lt;T&gt;&gt;</code></a></td>
<td><code>{3,5,1}</code> but not <code>{3,5,5}</code></td>
</tr>
<tr>
<td>Generate a value within numeric range of values</td>
<td><a href="#integers-and-intervals"><code>interval&lt;T&gt;</code>, <code>integers&lt;T&gt;</code></a></td>
<td>a number within <code>1</code>~<code>9999</code></td>
</tr>
<tr>
<td>Generate a pair or a tuple of different types</td>
<td><a href="#pair-and-tuples"><code>pairOf&lt;T1,T2&gt;</code>, <code>tupleOf&lt;Ts...&gt;</code></a></td>
<td>a <code>pair&lt;int, string&gt;</code></td>
</tr>
<tr>
<td>Union multiple generators</td>
<td><a href="#selecting-from-generators"><code>unionOf&lt;T&gt;</code> (<code>oneOf&lt;T&gt;</code>)</a></td>
<td><code>20~39</code> or <code>60~79</code> combined</td>
</tr>
<tr>
<td>Transform into another type or a value</td>
<td><a href="#transforming-or-mapping"><code>transform&lt;T,U&gt;</code></a></td>
<td><code>"0"</code> or <code>"1.4"</code> (a number as string).</td>
</tr>
<tr>
<td>Generate a struct or a class object</td>
<td><a href="#constructing-an-object"><code>construct&lt;T,ARGS...&gt;</code></a></td>
<td>a <code>Rectangle</code> object with width and height</td>
</tr>
<tr>
<td>Apply constraints in generated values</td>
<td><a href="#applying-constraints"><code>filter</code> (<code>suchThat</code>)</a></td>
<td>an even natural number (<code>n % 2 == 0</code>)</td>
</tr>
<tr>
<td>Generate values with dependencies or relationships</td>
<td><a href="#values-with-dependencies"><code>dependency</code>, <code>chain</code></a>, <a href="#utility-methods-in-standard-generators"><code>pairWith</code>, <code>tupleWith</code></a></td>
<td>a rectangle where <code>width == height * 2</code></td>
</tr>
<tr>
<td>Generate a value based on previously generated value</td>
<td><a href="#aggregation-or-accumulation-of-values"><code>aggregate</code>, <code>accumulate</code></a></td>
<td>a sequence of numbers where each one is between 0.5x and 1.5x of its previous</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 id="basic-generator-combinators">Basic Generator Combinators<a class="headerlink" href="#basic-generator-combinators" title="Permanent link">&para;</a></h2>
<h3 id="constants">Constants<a class="headerlink" href="#constants" title="Permanent link">&para;</a></h3>
<ul>
<li><code>just&lt;T&gt;(T*)</code>, <code>just&lt;T&gt;(T)</code>, <code>just&lt;T&gt;(shared_ptr&lt;T&gt;)</code>: always generates a specific value. A shared pointer can be used for non-copyable types.</li>
<li><code>lazy&lt;T&gt;(std::function&lt;T()&gt;)</code>: generates a value by calling a function
    <div class="highlight"><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">zeroGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">just</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// template argument is optional if type is deducible</span>
<span class="k">auto</span><span class="w"> </span><span class="n">oneGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lazy</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">([]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="p">});</span>
</code></pre></div></li>
</ul>
<h3 id="selecting-from-constants">Selecting from constants<a class="headerlink" href="#selecting-from-constants" title="Permanent link">&para;</a></h3>
<p>You may want to random choose from specific list of values.</p>
<ul>
<li>
<p><code>elementOf&lt;T&gt;(val1, ..., valN)</code>: generates a type <code>T</code> from multiple values for type <code>T</code>, by choosing one of the values randomly
    <div class="highlight"><pre><span></span><code><span class="c1">// generates a prime number under 50</span>
<span class="k">auto</span><span class="w"> </span><span class="n">primeGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">elementOf</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w"> </span><span class="mi">47</span><span class="p">);</span>
</code></pre></div></p>
<ul>
<li><code>elementOf</code> can receive optional probabilitistic weights (<code>0 &lt; weight &lt; 1</code>, sum of weights must not exceed 1.0) for generators. If weight is unspecified for a generator, it is calculated automatically so that remaining probability among unspecified generators is evenly distributed.
<code>weightedVal(&lt;value&gt;, &lt;weight&gt;)</code> is used to annotate the desired weight.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">// generates a numeric within ranges [0,10], [100, 1000], [10000, 100000]</span>
<span class="c1">//   weight for 10 automatically becomes 1.0 - 0.8 - 0.15 == 0.05</span>
<span class="n">elementOf</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">weightedVal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="p">),</span><span class="w"> </span><span class="n">weightedVal</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.15</span><span class="p">),</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
</code></pre></div>
</li>
</ul>
<h3 id="integers-and-intervals">Integers and intervals<a class="headerlink" href="#integers-and-intervals" title="Permanent link">&para;</a></h3>
<p>Some utility generators for integers are provided</p>
<ul>
<li><code>interval&lt;INT_TYPE&gt;(min, max)</code>: generates an integer type(e.g. <code>uint16_t</code>) in the closed interval <code>[min, max]</code>.</li>
<li><code>integers&lt;INT_TYPE(from, count)</code>: generates an integer type starting from <code>from</code>
    <div class="highlight"><pre><span></span><code><span class="n">interval</span><span class="o">&lt;</span><span class="kt">int64_t</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">);</span>
<span class="n">interval</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="p">);</span><span class="w"> </span><span class="c1">// template type argument can be ommitted if the input type(`int`) is the same as the output type.</span>
<span class="n">interval</span><span class="p">(</span><span class="mf">1L</span><span class="p">,</span><span class="w"> </span><span class="mf">48L</span><span class="p">);</span><span class="w"> </span><span class="c1">// template type argument can be ommitted if the input type(`int`) is the same as the output type.</span>
<span class="n">interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w"> </span><span class="c1">// generates an integer in {0, ..., 10}</span>
<span class="n">interval</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;Z&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// generates a char of uppercase alphabet</span>
<span class="n">integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w"> </span><span class="c1">// generates an integer in {0, ..., 9}</span>
<span class="n">integers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w"> </span><span class="c1">// generates an integer in {1, ..., 10}</span>
</code></pre></div></li>
<li><code>natural&lt;INT_TYPE&gt;(max)</code>: generates a positive integer up to <code>max</code>(inclusive)</li>
<li><code>nonNegative&lt;INT_TYPE&gt;(max)</code>: : generates zero or a positive integer up to <code>max</code>(inclusive)</li>
</ul>
<h3 id="pair-and-tuples">Pair and Tuples<a class="headerlink" href="#pair-and-tuples" title="Permanent link">&para;</a></h3>
<p>Generators for different types can be bound to a pair or a tuple.</p>
<ul>
<li>
<p><code>pairOf&lt;T1, T2&gt;(gen1, gen2)</code> : generates a <code>std::pair&lt;T1,T2&gt;</code> based on result of generators <code>gen1</code> and <code>gen2</code></p>
<div class="highlight"><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">pairGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pairOf</span><span class="p">(</span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">());</span>
</code></pre></div>
</li>
<li>
<p><code>tupleOf&lt;T1, ..., TN&gt;(gen1, ..., genN)</code>: generates a <code>std::tuple&lt;T1,...,TN&gt;</code> based on result of generators <code>gen1</code> through <code>genN</code></p>
<div class="highlight"><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">tupleGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tupleOf</span><span class="p">(</span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">());</span>
</code></pre></div>
</li>
</ul>
<p>&nbsp;</p>
<h2 id="advanced-generator-combinators">Advanced Generator Combinators<a class="headerlink" href="#advanced-generator-combinators" title="Permanent link">&para;</a></h2>
<h3 id="selecting-from-generators">Selecting from generators<a class="headerlink" href="#selecting-from-generators" title="Permanent link">&para;</a></h3>
<p>You can combine generators to a single generator that can generate each of them with some probability. This can be considered as taking a <em>union</em> of generators.</p>
<ul>
<li>
<p><code>oneOf&lt;T&gt;(gen1, ..., genN)</code>: generates a type <code>T</code> from multiple generators for type <code>T</code>, by choosing one of the generators randomly</p>
<div class="highlight"><pre><span></span><code><span class="c1">// generates a numeric within ranges [0,10], [100, 1000], [10000, 100000]</span>
<span class="k">auto</span><span class="w"> </span><span class="n">evenGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">oneOf</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="n">interval</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">),</span><span class="w"> </span><span class="n">interval</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span><span class="w"> </span><span class="mi">100000</span><span class="p">));</span>
</code></pre></div>
<ul>
<li><code>oneOf</code> can receive optional probabilistic weights (<code>0 &lt; weight &lt; 1</code>, sum of weights must not exceed 1.0) for generators. If weight is unspecified for a generator, it is calculated automatically so that remaining probability among unspecified generators is evenly distributed.
<code>weightedGen(&lt;generator&gt;, &lt;weight&gt;)</code> is used to annotate the desired weight.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">// generates a numeric within ranges [0,10], [100, 1000], [10000, 100000]</span>
<span class="k">auto</span><span class="w"> </span><span class="n">evenGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">oneOf</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">weightedGen</span><span class="p">(</span><span class="n">interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="mf">0.8</span><span class="p">),</span><span class="w"> </span><span class="n">weightedGen</span><span class="p">(</span><span class="n">interval</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">),</span><span class="w"> </span><span class="mf">0.15</span><span class="p">),</span><span class="w"> </span><span class="n">interval</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span><span class="w"> </span><span class="mi">100000</span><span class="p">)</span><span class="cm">/* weight automatically becomes 1.0 - (0.8 + 0.15) == 0.05 */</span><span class="p">);</span>
</code></pre></div>
</li>
<li>
<p><code>unionOf&lt;T&gt;</code> is an alias of <code>oneOf&lt;T&gt;</code></p>
</li>
</ul>
<h3 id="constructing-an-object">Constructing an object<a class="headerlink" href="#constructing-an-object" title="Permanent link">&para;</a></h3>
<p>You can generate an object of a class or a struct type <code>T</code>, by calling a matching constructor of <code>T</code>.</p>
<ul>
<li>
<p><code>construct&lt;T, ARG1, ..., ARGN&gt;([gen1, ..., genM])</code>: generates an object of type <code>T</code> by calling its constructor that matches the signature <code>(ARG1, ..., ARGN)</code>. Custom generators <code>gen1</code>,..., <code>genM</code> can be supplied for generating arguments. If <code>M &lt; N</code>, then rest of the arguments are generated with <code>Arbi</code>s.</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">Coordinate</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Coordinate</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="c1">// ...</span>
<span class="k">auto</span><span class="w"> </span><span class="n">coordinateGen1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">construct</span><span class="o">&lt;</span><span class="n">Coordinate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">interval</span><span class="p">(</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="n">interval</span><span class="p">(</span><span class="mi">-20</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">));</span>
<span class="k">auto</span><span class="w"> </span><span class="n">coordinateGen2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">construct</span><span class="o">&lt;</span><span class="n">Coordinate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">interval</span><span class="p">(</span><span class="mi">-10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span><span class="w"> </span><span class="c1">// y is generated with Arbi&lt;int&gt;</span>
</code></pre></div>
</li>
</ul>
<h3 id="applying-constraints">Applying constraints<a class="headerlink" href="#applying-constraints" title="Permanent link">&para;</a></h3>
<p>You can add a filtering condition to a generator to restrict the generated values to have certain constraint.</p>
<ul>
<li>
<p><code>filter&lt;T&gt;(gen, condition_predicate)</code>:  generates a type <code>T</code> that satisfies condition predicate (<code>condition_predicate</code> returns <code>true</code>)</p>
<div class="highlight"><pre><span></span><code><span class="c1">// generates even numbers</span>
<span class="k">auto</span><span class="w"> </span><span class="n">evenGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filter</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),[](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
</li>
<li>
<p><code>suchThat&lt;T&gt;</code>: an alias of <code>filter</code></p>
</li>
</ul>
<h3 id="transforming-or-mapping">Transforming or mapping<a class="headerlink" href="#transforming-or-mapping" title="Permanent link">&para;</a></h3>
<p>You can transform an existing generator to create new generator by providing a transformer function. This is equivalent to <em>mapping</em> in functional programming context.</p>
<ul>
<li>
<p><code>transform&lt;T,U&gt;(gen, transformer)</code>: generates type <code>U</code> based on generator for type <code>T</code>, using <code>transformer</code> that transforms a value of type <code>T</code> to type <code>U</code></p>
<div class="highlight"><pre><span></span><code><span class="c1">// generates string from integers (e.g. &quot;0&quot;, &quot;1&quot;, ... , &quot;-16384&quot;)</span>
<span class="k">auto</span><span class="w"> </span><span class="n">numStringGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">transform</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),[](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</li>
</ul>
<h3 id="deriving-or-flat-mapping">Deriving or flat-mapping<a class="headerlink" href="#deriving-or-flat-mapping" title="Permanent link">&para;</a></h3>
<p>Another combinator that resembles <code>transform</code> is <code>derive</code>. This is equivalent to <em>flat-mapping</em> or <em>binding</em> in functional programming. Difference to <code>transform&lt;T,U&gt;</code> is that you can have greater control on the resultant generator.</p>
<ul>
<li>
<p><code>derive&lt;T, U&gt;(genT, genUGen)</code>: derives a new generator for type <code>U</code>, based on result of <code>genT</code>, which is a generator for type <code>T</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// generates a string something like &quot;KOPZZFASF&quot;, &quot;ghnpqpojv&quot;, or &quot;49681002378&quot;, ... that consists of only uppercase/lowercase alphabets/numeric characters.</span>
<span class="k">auto</span><span class="w"> </span><span class="n">stringGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">derive</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="p">[](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">interval</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;Z&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">interval</span><span class="p">(</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;z&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="c1">// num == 2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">interval</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;9&#39;</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div>
</li>
</ul>
<p>Following table compares <code>transform</code> and <code>derive</code>:</p>
<table>
<thead>
<tr>
<th>Combinator</th>
<th>transformer signature</th>
<th>Result type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>transform&lt;T,U&gt;</code></td>
<td><code>function&lt;U(T)&gt;</code></td>
<td><code>Generator&lt;U&gt;</code></td>
</tr>
<tr>
<td><code>derive&lt;T,U&gt;</code></td>
<td><code>function&lt;Generator&lt;U&gt;(T)&gt;</code></td>
<td><code>Generator&lt;U&gt;</code></td>
</tr>
</tbody>
</table>
<h3 id="values-with-dependencies">Values with dependencies<a class="headerlink" href="#values-with-dependencies" title="Permanent link">&para;</a></h3>
<p>You may want to include dependency in the generated values. There are two variants that do this. One generates a pair and the other one generates a tuple.</p>
<ul>
<li>
<p><code>dependency&lt;T,U&gt;(genT, genUgen)</code>: generates a <code>std::pair&lt;T,U&gt;</code> with a generator <code>genT</code> for type <code>T</code> and <code>genUgen</code>. <code>genUgen</code> receives a type <code>T</code> and returns a generator for type <code>U</code>. This can effectively create a generator for a pair where second item depends on the first one.</p>
<div class="highlight"><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">sizeAndVectorGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dependency</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="p">[](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">vectorGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">vectorGen</span><span class="p">.</span><span class="n">maxLen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// generates a vector with maximum size of num</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">vectorGen</span><span class="p">;</span>
<span class="p">});</span>

<span class="k">auto</span><span class="w"> </span><span class="n">nullableIntegers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dependency</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="p">[](</span><span class="kt">bool</span><span class="o">&amp;</span><span class="w"> </span><span class="n">isNull</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">isNull</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">just</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">fromTo</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</li>
<li>
<p><code>chain&lt;Ts..., U&gt;(genT, genUgen)</code>: similar to <code>dependency</code>, but takes a tuple generator for <code>std::tuple&lt;Ts...&gt;</code> and generates a <code>std::tuple&lt;Ts..., U&gt;</code> instead of a <code>std::pair</code>. <code>chain</code> can be repeatedly applied to itself, and results in a tuple one element larger than the previous one. You can chain multiple dependencies with this form.</p>
<div class="highlight"><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">yearMonthGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tupleOf</span><span class="p">(</span><span class="n">fromTo</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">9999</span><span class="p">),</span><span class="w"> </span><span class="n">fromTo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">));</span>
<span class="c1">// number of days of month depends on month (28~31 days) and year (whether it&#39;s a leap year)</span>
<span class="k">auto</span><span class="w"> </span><span class="n">yearMonthDayGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chain</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">yearMonthGen</span><span class="p">,</span><span class="w"> </span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">yearMonth</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">yearMonth</span><span class="p">);</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">yearMonth</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">monthHas31Days</span><span class="p">(</span><span class="n">month</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fromTo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">monthHas30Days</span><span class="p">(</span><span class="n">month</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fromTo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// february has 28 or 29 days</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">isLeapYear</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fromTo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">29</span><span class="p">);</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fromTo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span><span class="w"> </span><span class="c1">// yearMonthDayGen generates std::tuple&lt;int, int, int&gt; of (year, month, day)</span>
</code></pre></div>
</li>
</ul>
<p>Actually you can achieve the similar goal using <code>filter</code> combinator:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="c1">// generate any year,month,day combination</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">yearMonthDayGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tupleOf</span><span class="p">(</span><span class="n">fromTo</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">9999</span><span class="p">),</span><span class="w"> </span><span class="n">fromTo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span><span class="w"> </span><span class="n">fromTo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">31</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// apply filter</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">validYearMonthDayGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearMonthDayGen</span><span class="p">.</span><span class="n">filter</span><span class="p">([](</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">ymd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ymd</span><span class="p">);</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ymd</span><span class="p">);</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">day</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ymd</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">monthHas31Days</span><span class="p">(</span><span class="n">month</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">day</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">31</span><span class="p">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">monthHas30Days</span><span class="p">(</span><span class="n">month</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">day</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// february has 28 or 29 days</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">isLeapYear</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">day</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">29</span><span class="p">)</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">day</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">28</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
</code></pre></div>
<p>However, using <code>filter</code> for generating values with complex dependency may result in many generated values that do not meet the constraint to be discarded and retried. Therefore it's usually not recommended for that purpose if the ratio of discarded values is high.</p>
<h3 id="aggregation-or-accumulation-of-values">Aggregation or Accumulation of Values<a class="headerlink" href="#aggregation-or-accumulation-of-values" title="Permanent link">&para;</a></h3>
<p>You may want to generate values that are related to previously generated values. This can be achieved with <code>aggregate</code> or <code>accumulate</code>.
Both of the combinators take base generator in the form of <code>Generator&lt;T&gt;</code> as the first argument and a factory that takes a value of type <code>T</code> and returns <code>Generator&lt;T&gt;</code>, as the second argument.</p>
<p>While <code>aggregate</code> generates a single value, accumulate generates a list of values at each generation.</p>
<table>
<thead>
<tr>
<th>Combinator</th>
<th>Result type</th>
<th>Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>aggregate&lt;GenT, GenT2GenT&gt;(genT, gen2GenT, minSize, maxSize)</code></td>
<td><code>Generator&lt;T&gt;</code></td>
<td></td>
</tr>
<tr>
<td><code>accumulate&lt;GenT, GenT2GenT&gt;(genT, gen2GenT, minSize, maxSize)</code></td>
<td><code>Generator&lt;list&lt;T&gt;&gt;</code></td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="c1">// generate initial value</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">baseGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// generate a value based on previous value</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aggregate</span><span class="p">(</span>
<span class="w">        </span><span class="n">gen1</span><span class="p">,</span>
<span class="w">        </span><span class="p">[](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">interval</span><span class="p">(</span><span class="n">num</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="o">*</span><span class="mi">2</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="mi">2</span><span class="w"> </span><span class="cm">/* min size */</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="cm">/* max size */</span><span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="c1">// generate initial value</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">baseGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// generate list of values</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accumulate</span><span class="p">(</span>
<span class="w">        </span><span class="n">gen1</span><span class="p">,</span>
<span class="w">        </span><span class="p">[](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">interval</span><span class="p">(</span><span class="n">num</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="o">*</span><span class="mi">2</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="mi">2</span><span class="w"> </span><span class="cm">/* min size */</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="cm">/* max size */</span><span class="p">);</span>
</code></pre></div>
<h2 id="utility-methods-in-standard-generators">Utility Methods in Standard Generators<a class="headerlink" href="#utility-methods-in-standard-generators" title="Permanent link">&para;</a></h2>
<p>Standard generators and combinators (including <code>Arbi&lt;T&gt;</code> and <code>Construct&lt;...&gt;</code>) returns a <code>Generator&lt;T&gt;</code>, which is of the form <code>(Random&amp;) -&gt; Shrinkable&lt;T&gt;</code> (aliased as <code>GenFunction&lt;T&gt;</code>), but has additional combinator methods decorated for ease of use. They in fact have equivalent standalone counterparts. Following table shows this relationship:</p>
<table>
<thead>
<tr>
<th>Decorated method</th>
<th>Result type</th>
<th>Equivalent Standalone combinator</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Generator&lt;T&gt;::filter</code></td>
<td><code>Generator&lt;T&gt;</code></td>
<td><code>filter&lt;T&gt;</code></td>
</tr>
<tr>
<td><code>Generator&lt;T&gt;::map&lt;U&gt;</code></td>
<td><code>Generator&lt;U&gt;</code></td>
<td><code>transform&lt;T,U&gt;</code></td>
</tr>
<tr>
<td><code>Generator&lt;T&gt;::flatMap&lt;U&gt;</code></td>
<td><code>Generator&lt;U&gt;</code></td>
<td><code>derive&lt;T,U&gt;</code></td>
</tr>
<tr>
<td><code>Generator&lt;T&gt;::pairWith&lt;U&gt;</code></td>
<td><code>Generator&lt;std::pair&lt;T,U&gt;&gt;</code></td>
<td><code>dependency&lt;T,U&gt;</code></td>
</tr>
<tr>
<td><code>Generator&lt;T&gt;::tupleWith&lt;U&gt;</code></td>
<td><code>Generator&lt;std::tuple&lt;T,U&gt;&gt;</code></td>
<td><code>chain&lt;T,U&gt;</code></td>
</tr>
<tr>
<td><code>Generator&lt;std::tuple&lt;Ts...&gt;&gt;::tupleWith&lt;U&gt;</code></td>
<td><code>Generator&lt;std::tuple&lt;Ts...,U&gt;&gt;</code></td>
<td><code>chain&lt;std::tuple&lt;Ts...&gt;,U&gt;</code></td>
</tr>
</tbody>
</table>
<p>These functions and methods can be continuously chained.</p>
<ul>
<li>
<p><code>.map&lt;U&gt;(mapper)</code>: effectively calls <code>transform&lt;T,U&gt;(gen, transformer)</code> combinator on itself with type <code>T</code> and generator <code>gen</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// generator for strings of arbitrary number</span>
<span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">().</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">([](</span><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<span class="p">});</span>
<span class="c1">// this is equivalent to:</span>
<span class="n">transform</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),</span><span class="w"> </span><span class="p">[](</span><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</li>
<li>
<p><code>.filter(filterer)</code>: apply <code>filter</code> combinator on itself.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// two equivalent ways to generate random even numbers</span>
<span class="k">auto</span><span class="w"> </span><span class="n">evenGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">().</span><span class="n">filter</span><span class="p">([](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">});</span>

<span class="k">auto</span><span class="w"> </span><span class="n">evenGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">filter</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(),[](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
</li>
<li>
<p><code>.flatMap&lt;U&gt;(genUGen)</code>: based on generated result of the generator object itself, induces a new generator for type <code>U</code>. It's equivalent combinator is <code>derive&lt;T,U&gt;</code>. Difference to <code>.map&lt;U&gt;</code> (or <code>transform&lt;T,U&gt;</code>) is that you can have greater control on the resultant generator.</p>
<div class="highlight"><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">stringGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">().</span><span class="n">flatMap</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">([](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">genString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">genString</span><span class="p">.</span><span class="n">setMaxSize</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">genString</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
</li>
<li>
<p><code>.pairWith&lt;U&gt;(genUGen)</code> or <code>tupleWith&lt;U&gt;(genUGen)</code>: chains itself to create a generator of pair or tuple. Equivalent to <code>dependency</code> or <code>chain</code>, respectively.
    <div class="highlight"><pre><span></span><code><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">().</span><span class="n">tupleWith</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">([](</span><span class="kt">bool</span><span class="o">&amp;</span><span class="w"> </span><span class="n">isEven</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">isEven</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">().</span><span class="n">filter</span><span class="p">([](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">().</span><span class="n">filter</span><span class="p">([](</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}).</span><span class="n">tupleWith</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">([](</span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">tuple</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">get</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">tuple</span><span class="p">);</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">stringGen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arbi</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">stringGen</span><span class="p">.</span><span class="n">setSize</span><span class="p">(</span><span class="n">size</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">stringGen</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div></p>
<p>Notice <code>tupleWith</code> can automatically chain a tuple generator of <code>n</code> parameters into a tuple generator of <code>n+1</code> parameters (<code>bool</code> generator -&gt; <code>tuple&lt;bool, int&gt;</code> generator -&gt; <code>tuple&lt;bool, int, string&gt;</code> generator in above example)</p>
</li>
</ul>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 15, 2023</span>
      
    
  </small>
</div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../Generators/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Generating Inputs" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Generating Inputs
            </div>
          </div>
        </a>
      
      
        
        <a href="../Shrinking/" class="md-footer__link md-footer__link--next" aria-label="Next: Simplifying Failed Inputs" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Simplifying Failed Inputs
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tracking", "navigation.tabs.sticky", "navigation.indexes", "navigation.path", "toc.follow", "navigation.top", "search.highlight", "search.suggest", "navigation.expand"], "search": "../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.e87a5f81.min.js"></script>
      
    
  </body>
</html>